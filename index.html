<html>
<head>
    <title>Peta Interaktif Balikpapan</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/3.6.2/fetch.min.js"></script>
    
    <style>
        #map { height: 100vh; } /* Peta mengisi seluruh layar */
    </style>
</head>
<body>
    <div id="map"></div>

    <script>
        // 1. Inisialisasi Peta
        var map = L.map('map').setView([-1.26, 116.82], 13); // Koordinat Balikpapan

        // 2. Tambahkan Basemap
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // 3. Muat data Jalan
        fetch('jalan_balikpapan.geojson')
            .then(response => response.json())
            .then(data => {
                L.geoJSON(data, { style: {color: "#999", weight: 2} }).addTo(map);
            });

        // 4. Muat data POI
        fetch('poi_balikpapan.geojson')
            .then(response => response.json())
            .then(data => {
                L.geoJSON(data, {
                    onEachFeature: function (feature, layer) {
                        // Tambahkan popup interaktif
                        var props = feature.properties;
                        layer.bindPopup("<b>" + (props.name || 'POI') + "</b>");
                    }
                }).addTo(map);
            });
        fetch('rute_optimal_final.geojson')
            .then(response => response.json())
            .then(data => {
                L.geoJSON(data, {
                    // Beri gaya agar menonjol
                    style: {
                        color: "#FF0000", // Warna merah cerah
                        weight: 6,        // Garis tebal
                        opacity: 0.8      // Tidak terlalu transparan
                    }
                }).addTo(map);
            });
    </script>
</body>
</html>